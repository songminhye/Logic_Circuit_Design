# Logic_Circuit_Design



## [주어진 필수 조건]

### Xilinx Virtex4 프로그램으로 자판기 제작 
 
 최종금액 : 
 
                    650원 
 
 사용주화 : 
 
                   50원, 100원, 500원
 
 필수버튼 (스위치) : 
 
                    c50, c100 c500 (입력)
 
                    reset
                    
                    coffee (출력)
                    
                    
                    
                    

## [만든 결과]

  입력 포트 : 
  
             c50 : 50원을 주입
  
             c100 : 100원을 주입
             
             c500 : 500원을 주입
             
             Bcoffee : 커피 뽑는 버튼
             
  출력 포트 : LED_coffee : 커피를 뽑을 수 있을 때 불 들어오는 신호
  
             r50 : 50원 반환
             
             r100 : 100원 반환
             
             r500 : 500원 반환
             
             Gcoffee : 커피가 나오는 신호 
             
             
             
  ## <세부기능>
  
    1) Gcoffee : 300원이 되면 커피를 뽑는다. 
    
    2) 650원을 초과해서 돈을 넣을 경우, 넣은 돈을 바로 반환한다.
    
    3) 동전 상태가 300원 이상이 되면 LED_coffee에 신호가 들어온다. 
    
    4) reset 기능 
    
    
    
   ---
   
   
   ## [전체 Module 설명]
   
   ### 기본적인 port설정, 자판기 버튼과 들어갈 동전의 모든 수 표현
   
   
   
    1. 입력 포트에는 500원, 50원, 100원의 동전을 설정, 커피를 뽑기 위한 버튼 설정

    2. 출력 포트에는 커피를 뽑을 수 있다는 정보를 알려주는 LED, 50원 100원 500원 반환, 커피 출력을 설정

    3. 동전을 투입하고 현재 투입된 동전 현황을 won_state로 표현 

    4. reset 이 1 일 때 모든 상태가 0으로 돌아가게 설정

    5. reset 이 0 이면 자판기가 실행된다. 
    
    
### < 커피가 뽑히지 않을 상황 > (현재 동전상태 : 0원)


    when won_0 : 돈이 현재 0원이 들어가 있다.
    
    else if문을 사용하여 동전의 종류에 따라 상태 변화 표현
    
    c50 = ‘1’ : 동전 50원 들어간다. 동전 상태는 won_50으로 이동
    
    c100 = ‘1’ : 동전 100원 들어간다. 동전 상태는 won_100으로 이동
    
    c500 = ‘1’ : 동전 500원 들어간다. 동전 상태는 won_500으로 이동
            이동된 동전상태가 커피를 뽑을 수 있으므로 
            LED_coffee가 켜진다. 

    else : 아무 동전도 넣지 않았을 때 현재 상태 유지 


### < 커피를 뽑을 수 있는 상황 > (현재 동전상태 : 300원)

    won_300 : 현재 300원이 있다. 
    
    Bcoffee  : 동전 상태가 커피를 뽑을 수 있으므로 버튼을 사용한다.
               커피를 출력하자마자 동전 상태는 won_0으로 이동
               출력하면 LED도 꺼진다. 
               
    c50 : 동전 50원 들어간다. 동전 상태는 won_350으로 이동
          커피를 뽑을 수 있는 상태이므로 LED 켜진다. 
          
    c100 : 동전 100원 들어간다. 동전 상태는 won_400으로 이동
          커피를 뽑을 수 있는 상태이므로 LED 켜진다. 
          
    c500 : 동전 500원 들어간다. 전에 동전상태가 300원이므로 500원 추가하면
           최대금액인 650원을 초과한다. 따라서 들어간 500원을 그대로 반환
           반환해도 커피를 뽑을 수 있는 상태이므로 LED 켜진다.
           
           
 ###  < 동전 반환하는 상황 > (현재 동전상태 : 650원)

     won_650 : 현재 650원이 있다. 
     
     Bcoffee  : 동전 상태가 커피를 뽑을 수 있으므로 버튼을 사용한다.
                커피를 출력하자마자 동전 상태는 won_350으로 이동
                커피를 출력하면 LED는 꺼진다. 
                
    c50 : 동전 50원 들어간다. 현 동전 상태가 650이므로 50원 추가 시
          최대금액 650원을 초과한다. 따라서 들어간 50원 그대로 반환
          커피를 뽑을 수 있는 상태이므로 LED 켜져있다. 
          
    c100 : 동전 100원 들어간다.  동전 상태가 650이므로 100원 추가 시
          최대금액 650원을 초과한다. 따라서 들어간 100원 그대로 반환
          커피를 뽑을 수 있는 상태이므로 LED 켜져있다. 
          
    c500 : 동전 500원 들어간다. 전에 동전상태가 650원이므로 500원 추가하면
           최대금액인 650원을 초과한다. 따라서 들어간 500원을 그대로 반환
           반환해도 커피를 뽑을 수 있는 상태이므로 LED 켜져있다.
    

